<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <app-content-header [contentHeader]="contentHeader"></app-content-header>

        <section id="multiple-column-form">
            <div class="row match-height">
                <div class="col-12">
                    <div class="card">
                        <div class="d-flex align-items-center justify-content-end pr-1 pb-1 pb-md-0 mt-1">
                            <button *ngIf="acceptAction.update" class="btn btn-primary ml-1" rippleEffect
                                (click)="openModalAddUser(modalEditEmail)">
                                <span [data-feather]="'edit'" [class]="'mr-25'"></span>
                                {{ 'LABEL.EDIT'| translate }}
                            </button>

                            <!--                            <core-sidebar class="sidebar-left" name="email-sidebar" overlayClass="body-content-overlay"-->
                            <!--                                collapsibleSidebar="bs-gt-lg">-->
                            <!--                                <button type="button" class="compose-email btn btn-primary btn-block"-->
                            <!--                                    data-target="#compose-mail" (click)="openCompose()" rippleEffect>-->
                            <!--                                    Gửi email-->
                            <!--                                </button>-->
                            <!--                            </core-sidebar>-->

                        </div>
                        <!-- <h5 class="card-header">Thêm mới người dùng</h5> -->
                        <div class="card-body">
                            <div class="row">
                                <ng-container>
                                    <!--                            class="modal-dialog modal-lg modal-dialog-scrollable"-->
                                    <div style="width: 100%;">
                                        <div class="modal-content p-3">
                                            <div class="modal-body flex-grow-1 p-0">
                                                <form class="compose-form">
                                                    <div class="compose-mail-form-field select2-primary">
                                                        <!-- <label class="form-label">To: </label> -->
                                                        <div class="flex-grow-1">

                                                            <div class="compose-footer-wrapper row mt-1"
                                                                style="border-bottom: 2px solid rgba(34,41,47,.05);">
                                                                <label style=" margin-top: 10px ">{{ 'LABEL.TO'|
                                                                    translate }} </label>
                                                                <ng-select #selectRef [items]=" emailToSelect "
                                                                    [multiple]="true " [closeOnSelect]="false "
                                                                    [searchable]="false " bindLabel="name "
                                                                    placeholder="{{ 'MENU.UNIT_MANAGERMENT'| translate }} "
                                                                    style="width:90% " name="selectTo "
                                                                    [(ngModel)]="emailToSelected ">
                                                                    >
                                                                    <ng-template ng-option-tmp let-item="item ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div *ngIf="currentLang == 'vn'"
                                                                                class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitName }}</p>
                                                                            </div>
                                                                            <div *ngIf="currentLang == 'en'"
                                                                                class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitNameEn }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template ng-label-tmp let-item="item "
                                                                        let-clear="clear ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div *ngIf="currentLang == 'vn'"
                                                                                class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitName }}</p>
                                                                            </div>
                                                                            <div *ngIf="currentLang == 'en'"
                                                                                class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitNameEn }}
                                                                                </p>
                                                                            </div>
                                                                            <span class="ng-value-icon right "
                                                                                aria-hidden="true ">×</span>
                                                                        </div>
                                                                    </ng-template>
                                                                </ng-select>

                                                                <!-- <label class="text-body toggle-cc " (click)="togglCcBcc( 'cc') " rippleEffect>
                                                             
                                                                
                                                             
                                                            </div>
                                                        </div>
                                                        <div>
                                                           <button type="button " class="btn btn-primary " (click)="togglCcBcc( 'cc') " rippleEffect>CC
                                                            </button> -->
                                                                <!--                  <a class="toggle-bcc text-body " (click)="togglCcBcc( 'bcc') ">Bcc</a>-->
                                                                <a class="toggle-cc text-body mr-1"
                                                                    style="border:0px ;margin-top:8px "
                                                                    (click)=" togglCcBcc( 'cc') ">Cc</a>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="compose-mail-form-field cc-wrapper "
                                                        *ngIf="isOpenCC===true ">
                                                        <label for="emailCC ">Cc: </label>
                                                        <div class="flex-grow-1 ">
                                                            <div class="form-group ">
                                                                <ng-select [items]="emailCCSelect " [multiple]="true "
                                                                    [closeOnSelect]="false " [searchable]="false "
                                                                    bindLabel="name "
                                                                    placeholder="{{ 'MENU.UNIT_MANAGERMENT'| translate }}"
                                                                    name="selectTo " [(ngModel)]="ccSelected ">
                                                                    >
                                                                    <ng-template *ngIf="currentLang == 'vn'"
                                                                        ng-option-tmp let-item="item ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitName }}</p>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template *ngIf="currentLang == 'en'"
                                                                        ng-option-tmp let-item="item ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitNameEn }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template *ngIf="currentLang == 'vn'"
                                                                        ng-label-tmp let-item="item "
                                                                        let-clear="clear ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitName }}</p>
                                                                            </div>
                                                                            <span class="ng-value-icon right "
                                                                                aria-hidden="true ">×</span>
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template *ngIf="currentLang == 'en'"
                                                                        ng-label-tmp let-item="item "
                                                                        let-clear="clear ">
                                                                        <div class="media align-items-center p-25 ">
                                                                            <div class="media-body ">
                                                                                <p class="mb-0 ">{{ item.unitNameEn }}
                                                                                </p>
                                                                            </div>
                                                                            <span class="ng-value-icon right "
                                                                                aria-hidden="true ">×</span>
                                                                        </div>
                                                                    </ng-template>
                                                                </ng-select>
                                                            </div>
                                                        </div>
                                                        <a class="text-body toggle-cc " href="javascript:void(0); "
                                                            (click)="togglCcBcc( 'cc') "><i data-feather="x "></i></a>
                                                    </div>
                                                    <div class="compose-mail-form-field row mt-1 style="
                                                        style=" border-bottom: 2px solid rgba(34,41,47,.05); ">
                                                        <label for="emailToInput " style="margin-top: 10px ">{{
                                                            'LABEL.TO'|
                                                            translate }}
                                                        </label>



                                                        <ng-select [items]=" listUser " [multiple]="true "
                                                            [closeOnSelect]="false " style="width:90% "
                                                            bindLabel="email" bindValue="email"
                                                            [(ngModel)]="emailToInput1" (change)="onChange()"
                                                            name="emailToInput1"
                                                            placeholder="{{ 'MENU.EMAIL'| translate }}">

                                                        </ng-select>

                                                        <input type="text " id="emailToInput " class="form-control "
                                                            placeholder="Email;Email" [(ngModel)]="emailToInput "
                                                            (change)="onChange()" name="emailToInput"
                                                            style="width:92%; border:8px " />
                                                    </div>
                                                    <div class="compose-mail-form-field row mt-1 style="
                                                        style=" border-bottom: 2px solid rgba(34,41,47,.05); ">
                                                        <label for="emailSubject " style="margin-top: 10px ">{{
                                                            'LABEL.SUBJECT'| translate }} </label>
                                                        <input type="text " id="emailSubject " class="form-control "
                                                            placeholder="{{ 'LABEL.SUBJECT'| translate }}  "
                                                            style="width:92%; border:8px " name="emailSubject "
                                                            [(ngModel)]="emailSubject " />
                                                    </div>
                                                    <div class="form-group mt-1 ">
                                                        <quill-editor name="addDescription "
                                                            customToolbarPosition=" 'bottom' " class="border-bottom-0 "
                                                            style="min-height: 250px; "
                                                            placeholder="{{ 'LABEL.MESSAGE'| translate }}  "
                                                            [(ngModel)]="quillEditorContent ">
                                                            <div quill-editor-toolbar>
                                                                <div class=" desc-toolbar border-top-0 ">
                                                                    <span class="ql-formats mr-0 ">
                                                                        <button class="ql-bold "></button>
                                                                        <button class="ql-italic "></button>
                                                                        <button class="ql-underline "></button>
                                                                        <button class="ql-align "></button>
                                                                        <button class="ql-link "></button>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </quill-editor>
                                                    </div>
                                                    <div class="compose-footer-wrapper ">
                                                        <div class="btn-wrapper d-flex align-items-center ">
                                                            <div class="btn-group dropup mr-1 " ngbDropdown>
                                                                <button type="button" *ngIf="acceptAction.add"
                                                                    class="btn btn-primary " (click)="send() "
                                                                    rippleEffect>{{ 'LABEL.SEND'|
                                                                    translate }}
                                                                </button>
                                                                <!-- <button type="button " ngbDropdownToggle class="btn btn-primary dropdown-toggle-split " data-toggle="dropdown " aria-haspopup="true " aria-expanded="false " data-reference="parent " rippleEffect>
                                                                    <span class="sr-only ">Toggle Dropdown</span>
                                                                  </button> -->
                                                                <div ngbDropdownMenu>
                                                                    <a ngbDropdownItem href="javascript:void(0); ">
                                                                        Schedule Send</a>
                                                                </div>
                                                            </div>
                                                            <div class="email-attachement">
                                                                <!-- <label id="file-input">
                                                                    <i data-feather="paperclip" width="17" height="17"
                                                                        class="ml-50"></i>
                                                                </label>

                                                                <input id="file-input" type="file" class="d-none" /> -->

                                                                <label for="File" (change)="onFileChange($event)">


                                                                    <input multiple="multiple" id="File" type="file" />
                                                                </label>

                                                            </div>



                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Modal edit user-->
        <ng-template #modalEditEmail let-modal>
            <div class="modal-header ">
                <h5 class="modal-title " id="myModalLabel160 ">{{ 'LABEL.EDIT'| translate }}</h5>
                <button type="button " class="close " (click)="modal.dismiss( 'Cross click') " aria-label="Close ">
                    <span aria-hidden="true ">&times;</span>
                </button>
            </div>
            <div class="modal-body " tabindex="0 " ngbAutofocus>
                <app-edit-email (afterEdit)="afterEdit() "></app-edit-email>
            </div>
        </ng-template>
        <!-- / Modal -->
    </div>
</div>
<div class="content-right ">
    <app-email-compose></app-email-compose>
</div>