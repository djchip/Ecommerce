<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <!-- page users view start -->
        <section *ngIf="  objRevert == null "   class="app-user-view">
            <!-- User Card & Plan Starts -->
            <div class="row">
                <!-- User Card starts-->
                <div class="col-xl-12 col-lg-12">
                    <div class="card user-card">
                        <!-- <h5 class="card-header">Thông tin người dùng</h5> -->
                        <div class="card-body">
                            <div class="row">
                                <div
                                    class="col-xl-3 col-lg-12 d-flex flex-column justify-content-between border-container-lg">
                                    <div class="user-avatar-section">
                                        <div class="d-flex justify-content-start">
                                            <div class="mr-1 ml-0">
                                                <div [ngClass]="{
                                                    'bg-light-success': data?.status == '1',
                                                    'bg-light-secondary': data?.status == '0',
                                                    'bg-light-warning': data?.status == '2'
                                                }" class="rounded-circle p-3" style="height: 150px; width: 150px;">
                                                    <h2 [ngClass]="{
                                                    'text-success': data?.status == '1',
                                                    'text-secondary': data?.status == '0',
                                                    'text-warning': data?.status == '2'
                                                    }" class="d-flex justify-content-center mt-1">
                                                        {{ data?.username | initials }}
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-9 col-lg-12 mt-2 mt-xl-0">
                                    <div class="user-info-wrapper">
                                        <div class="d-flex flex-wrap">
                                            <div class="user-info-title">
                                                <i data-feather="user" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.USERNAME'| translate }}</span>
                                            </div>
                                            <p class="card-text mb-0"
                                                [ngStyle]="{'color': dataRevert?.username ? 'indianred' : '#6E6B7B'}">
                                                {{ dataRevert?.username ? dataRevert?.username : data?.username }}
                                            </p>&nbsp;
                                            <b *ngIf="dataRevert?.username">---> {{ data?.username }}</b>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <div class="user-info-title">
                                                <i data-feather="tag" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.FULLNAME'| translate }}</span>
                                            </div>
                                            <p class="card-text mb-0"
                                                [ngStyle]="{'color': dataRevert?.fullname ? 'indianred' : '#6E6B7B'}">
                                                {{ dataRevert?.fullname ? dataRevert?.fullname : data?.fullname }}</p>
                                            &nbsp;
                                            <b *ngIf="dataRevert?.fullname">---> {{ data?.fullname }}</b>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <div class="user-info-title">
                                                <i data-feather="mail" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.EMAIL'| translate }}</span>
                                            </div>
                                            <p class="card-text mb-0"
                                                [ngStyle]="{'color': dataRevert?.email ? 'indianred' : '#6E6B7B'}">
                                                {{ dataRevert?.email ? dataRevert?.email : data?.email }}</p>
                                            &nbsp;
                                            <b *ngIf="dataRevert?.email">---> {{ data?.email }}</b>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <div class="user-info-title">
                                                <i data-feather="phone" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.PHONE'| translate }}</span>
                                            </div>
                                            <p class="card-text mb-0"
                                                [ngStyle]="{'color': dataRevert?.phoneNumber ? 'indianred' : '#6E6B7B'}">
                                                {{ dataRevert?.phoneNumber ? dataRevert?.phoneNumber : data?.phoneNumber
                                                }}</p>
                                            &nbsp;
                                            <b *ngIf="dataRevert?.phoneNumber">---> {{ data?.phoneNumber }}</b>
                                        </div>
                                        <div class="d-flex flex-wrap my-50"
                                            *ngIf="dataRevert?.role ? dataRevert?.role : data?.role as roles">
                                            <div class="user-info-title">
                                                <i data-feather="star" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.ROLE'| translate }}</span>
                                            </div>

                                            <!-- <p class="card-text mb-0" *ngFor="let role of roles" 
                                                [ngStyle]="{'color': dataRevert?.role ? 'indianred' : '#6E6B7B'}">
                                                {{currentLang == 'vn' ? role?.roleName : role?.roleNameEn}}</p> -->
                                                
                                            <!-- <ul *ngFor="let role of roles" class="card-text mb-0"
                                                [ngStyle]="{'color': dataRevert?.role ? 'indianred' : '#6E6B7B'}">
                                                <li>{{currentLang == 'vn' ? role?.roleName : role?.roleNameEn}}</li>
                                            </ul>
                                            <b *ngIf="dataRevert?.role"></b>
                                            <ul *ngFor="let role of data?.role" class="card-text mb-0">
                                                <li *ngIf="dataRevert?.role"><b>{{currentLang == 'vn' ? role?.roleName :
                                                        role?.roleNameEn}}</b></li>
                                            </ul> -->
                                        </div>
                                        <ul *ngFor="let role of data?.role" class="card-text mb-0 " style=" margin-left: 132px;">
                                            <li>{{currentLang == 'vn' ? role?.roleName :
                                                    role?.roleNameEn}}</li>
                                        </ul> 
                                        <div class="d-flex flex-wrap mt-1">
                                            <div class="user-info-title">
                                                <i data-feather="monitor" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.UNIT'| translate }}</span>
                                            </div>
                                            <p class="card-text mb-0"
                                                *ngIf="dataRevert?.unit ? dataRevert?.unit : data?.unit as variable"
                                                [ngStyle]="{'color': dataRevert?.unit ? 'indianred' : '#6E6B7B'}">
                                                {{currentLang == 'vn' ? variable.unitName : variable.unitNameEn}}
                                            </p>
                                            <!-- <p class="card-text mb-0">{{data?.unit.unitName}}</p> -->
                                        </div>
                                        <div class="d-flex flex-wrap my-50"
                                            *ngIf="dataRevert?.status ? dataRevert?.status : data?.status as status"
                                            [ngStyle]="{'color': dataRevert?.status ? 'indianred' : '#6E6B7B'}">
                                            <div class="user-info-title">
                                                <i data-feather="check" class="mr-1"></i>
                                                <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                    'LABEL.STATUS'| translate }}</span>
                                            </div>
                                            <p class="badge badge-pill" [ngClass]="{
                                                'badge-light-success': status == '1',
                                                'badge-light-secondary': status == '0',
                                                'badge-light-warning': status == '2'
                                            }">{{ status == '1' ? 'Active' : status == '0' ? 'Deleted' : 'Locked' }}
                                            </p>
                                            <b *ngIf="dataRevert?.status">&nbsp;---></b>
                                            <p *ngIf="dataRevert?.status" class="badge badge-pill" [ngClass]="{
                                                'badge-light-success': status == '1',
                                                'badge-light-secondary': status == '0',
                                                'badge-light-warning': status == '2'
                                            }">{{ data?.status == '1' ? 'Active' : data?.status == '0' ? 'Deleted' :
                                                'Locked' }}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="id != null && id != ''">
                            <div class="col-xl-4 col-lg-12 d-flex flex-column justify-content-between ">
                                <button class="btn btn-primary ml-1" rippleEffect (click)="resetPassword()">
                                    <span [data-feather]="'rotate-ccw'"
                                        [class]="'mr-25'"></span>{{'ACTION.RESET_PASSWORD' | translate}}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /User Card Ends-->
        </section>
        <section *ngIf="  objRevert != null " class="app-user-view">
            <!-- User Card & Plan Starts -->
            <div class="row">
                <!-- User Card starts-->
                <div class="col-xl-12 col-lg-12">
                    <div class="card user-card">
                        <!-- <h5 class="card-header">Thông tin người dùng</h5> -->
                        <div class="card-body">
                            <table class="table table-bordered">
                                <thead class="thead-light">
                                    <tr>
                                        <th>{{ 'LABEL.properties'| translate }}</th>
                                        <th>{{ 'LABEL.Before_the_update'| translate }}</th>
                                        <th>{{ 'LABEL.After_the_update'| translate }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr [ngClass]="{'table-warning': objRevert.username != obj.username}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.USERNAME'| translate }}</span>
                                        </td>
                                        <td>{{objRevert.username}}</td>
                                        <td>{{obj.username}}</td>
                                    </tr>
                                    <tr [ngClass]="{'table-warning': objRevert.fullname != obj.fullname}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.FULLNAME'| translate }}</span>
                                        </td>
                                        <td>{{objRevert.fullname}}</td>
                                        <td>{{obj.fullname}}</td>
                                    </tr>
                                    <tr [ngClass]="{'table-warning': objRevert.email != obj.email}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.EMAIL'| translate }}</span>
                                        </td>
                                        <td>{{objRevert.email}}</td>
                                        <td>{{obj.email}}</td>
                                    </tr>
                                    <tr [ngClass]="{'table-warning': objRevert.phoneNumber != obj.phoneNumber}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.PHONE'| translate }}</span>
                                        </td>
                                        <td>{{objRevert.phoneNumber}}</td>
                                        <td>{{obj.phoneNumber}}</td>
                                    </tr>

                                    <tr [ngClass]="{'table-warning':dataRevert?.role != null}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.ROLE'| translate }}</span>
                                        </td>
                                        <td>
                                            <ul *ngFor="let role of objRevert.role" class="card-text mb-0">
                                                <li>{{currentLang == 'vn' ? role?.roleName : role?.roleNameEn}}</li>
                                            </ul>
                                        </td>
                                        <td>
                                            <ul *ngFor="let role of obj.role" class="card-text mb-0">
                                                <li>{{currentLang == 'vn' ? role?.roleName : role?.roleNameEn}}</li>
                                            </ul>
                                        </td>

                                    </tr>


                                    <tr [ngClass]="{'table-warning': objRevert.unit.unitName != obj.unit.unitName}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.UNIT'| translate }}</span>
                                        </td>
                                        <td>
 

                                            <p class="card-text mb-0"
                                            *ngIf="objRevert?.unit ? objRevert?.unit : objRevert?.unit as variable">
                                            {{currentLang == 'vn' ? variable.unitName : variable.unitNameEn}}
                                        </p>

                                        </td>
                                        <td>
                                            <p class="card-text mb-0"
                                                *ngIf="obj?.unit ? obj?.unit : obj?.unit as variable">
                                                {{currentLang == 'vn' ? variable.unitName : variable.unitNameEn}}
                                            </p>
                                        </td>
                                    </tr>

                                    <tr [ngClass]="{'table-warning': objRevert.status != obj.status}">
                                        <td>
                                            <span class="card-text user-info-title font-weight-bold mb-0">{{
                                                'LABEL.STATUS'| translate }}</span>
                                        </td>
                                        <td [ngClass]="{
                                          'badge-light-success': data.status == '1',
                                          'badge-light-secondary': data.status == '0',
                                          'badge-light-warning': data.status == '2'
                                        }">{{ objRevert.status == '1' ? 'Active' : objRevert.status == '0' ? 'Deleted'
                                            : 'Locked' }}</td>
                                        <td [ngClass]="{
                                          'badge-light-success': data.status == '1',
                                          'badge-light-secondary': data.status == '0',
                                          'badge-light-warning': data.status == '2'
                                        }">{{ obj.status == '1' ? 'Active' : obj.status == '0' ? 'Deleted' : 'Locked'
                                            }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /User Card Ends-->
        </section>
        <!-- page users view end -->
    </div>
</div>